# Flyvent 기능 정의서

> `Flyvent`는 항공사들의 이벤트를 모아서 볼 수 있고, 원하는 키워드에 대한 이벤트를 메일로 알림 서비스를 제공합니다.
- [x] 멤버는 회원가입을 할 수 있다.
  - `필요 정보`
    - 이름
    - 이메일
    - 패스워드
    - 메일 수신 동의 여부
- [] 멤버는 알림을 받고 싶은 키워드(여행지)를 선택할 수 있다. (`MemberDestination`)
  - 여행지 키워드
    - 도시
    - 나라
    - 대륙
  - 특정 키워드
  - 전체
- [x] 멤버는 알림을 받고 싶은 항공사를 선택(구독)할 수 있다.
- [] 주기적으로 항공사에서 이벤트를 crawl한다.
  - `주기`
    - 1시간
  - `항공사`
    - [x] 대한한공
    - [x] 아시아나항공
    - [] 진에어
    - [x] 티웨이항공
    - [x] 제주항공
    - [] 에어서울
    - [] 에어부산
    - [] 에어프레미아
    - [] 플라이강원
  - `이벤트`
    - 이벤트 내용
    - 이벤트 url
    - 썸네일 url
    - 이벤트 기간
    - 이벤트 종류
    - 여행지 대륙
    - 여행지 나라
    - 여행지 도시

- [] 이벤트 crawl후에는 새로운 이벤트에 대해 일치하는 키워드가 있는 멤버에게 알림 메일을 발송한다.
  - [x] 이벤트 텍스트에서 Destination (여행지) 정보와 일치하는 단어 check
    - [x] 일치하는 단어가 있다면 이벤트의 EventType := TRAVEL
      - [x] 이벤트에 여행지 정보 저장 (이벤트는 여러 Destination을 가질 수 있다. `EventDestination`)
        ```
        유저는 대륙 / 나라 / 도시 중 원하는 여행지 키워드를 설정할 수 있다.
        -> country, city는 nullable
        
        Q. continent는 not null?
        
        -> '도시'에 관한 이벤트에 대해 '도시'를 키워드로 설정한 유저, 도시가 속하는 '나라', 도시가 속하는 '대륙'을 키워드로
        설정한 유저에게 알림을 보낼 수 있어야 한다. ( 도시 C 나라 C 대륙 / C : 포함 관계 ) 어느 여행지든 continent 정보를 필수!! 
        ```
        - continent
        - country (nullable)
        - city (nullable)
      
    - [x] 일치하는 단어가 없다면 이벤트의 EventType := ETC